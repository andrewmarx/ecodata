<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Contributing • ecodata</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Contributing">
<meta property="og:description" content="ecodata">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ecodata</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/contributing.html">Contributing</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="contributing_files/header-attrs-2.11/header-attrs.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Contributing</h1>
                        <h4 class="author">Andrew Marx</h4>
            
            <h4 class="date">2022-04-07</h4>
      
      
      <div class="hidden name"><code>contributing.Rmd</code></div>

    </div>

    
    
<div id="introduction" class="section level1">
<h1 class="hasAnchor">
<a href="#introduction" class="anchor"></a>Introduction</h1>
<p>The package was designed so that users can contribute their own datasets to the package via GitHub. Given that this isn’t designed like a typical data package for R, the process of adding datasets is a little more complicated. This article outlines the requirements and process needed to make contributions that take advantage of the features the package offers to users.</p>
</div>
<div id="background" class="section level1">
<h1 class="hasAnchor">
<a href="#background" class="anchor"></a>Background</h1>
<p>This package is a little unusual in that it can create datasets from user-contributed functions. These functions can create datasets based on zero, one, or more data files. Because of this behavior, this page attempts to distinguish a <em>“data file”</em> and a <em>“dataset”</em> as two different things. A <em>data file</em> is, as the name implies, a file containing data. It gets imported into the package and documented like a normal data package. A <em>dataset</em> might contain</p>
</div>
<div id="setup" class="section level1">
<h1 class="hasAnchor">
<a href="#setup" class="anchor"></a>Setup</h1>
<p>In order to contribute directly, you will need up-to-date versions of the <code>devtools</code>, <code>usethis</code>, and <code>testthat</code> packages in R.</p>
<p>Contributions should be submitted by forking the <em>contribute</em> branch of the package on GitHub. Once you’ve implemented and tested your additions, submit a pull request.</p>
</div>
<div id="data-files" class="section level1">
<h1 class="hasAnchor">
<a href="#data-files" class="anchor"></a>Data Files</h1>
<p>Any type of ecological data is welcome in the package, whether it’s real world data or artificially generated. Additionally, having multiple sources of data that otherwise serve the same educational purposes is welcome; variety gives educators more choices when it comes to developing educational material. While small/relatively simple data files are welcome, consideration should be given to how the dynamic dataset capabilities of the package can be leveraged. For example, a data file with two columns (let’s say <em>mass</em> and <em>age</em>) might be suitable for something like linear regression, but by adding additional columns (e.g., <em>sex</em>, <em>location</em>, etc), the data file becomes useful for additional things, like GLMs. Likewise, having a large number of rows can be advantageous to the package; data sets can be designed to do things like break a large data file into multiple smaller datasets. So when submitting a real world data file, don’t feel the need to trim it down to fit a singular purpose, and when generating artificial data files, consider if adding additional variables or observations might make them useful in new ways.</p>
<p>Multiple related data files are also welcome in the package. When adding them, they should just be treated individually as separate data files, but with information in the descriptions explaining the relationships. Then, if desired, dynamic datasets can be created that combine files however it makes sense.</p>
<div id="adding-files" class="section level3">
<h3 class="hasAnchor">
<a href="#adding-files" class="anchor"></a>Adding Files</h3>
<p>To add a data file, it should be added to the <code>./data-raw/data/</code> folder. Names must start with a lowercase letter (a-z), but otherwise can contain lowercase letters, numbers, and underscores (_).</p>
<p>Currently, the package is only set up to include csv files. By default, the package does not import “NA” strings in csv files as <code>NA</code>. Therefore, csv files should leave fields blank for <code>NA</code> values. The package also does not import strings as factors.</p>
<p>Additionally, the package skips the first five lines of csv during import. These lines are assumed to contain metadata about the file. At the very least, it should contain a description, info about the source of the data (such as a URL to a data repository), and a license (Preferably CC0). If relevant, citation information should also be included.</p>
</div>
<div id="documentation-files" class="section level3">
<h3 class="hasAnchor">
<a href="#documentation-files" class="anchor"></a>Documentation Files</h3>
<p>All raw data files must be documented with Roxygen. This is accomplished by updating the <code>./R/data.R</code> file. Entries in this file should be in alphabetical order by name, and should include an overall description of the data, the source, and a description of the individual fields. The <code>"lepanthes_rupestris"</code> entry serves as an example of how to prepare the new entry.</p>
</div>
</div>
<div id="datasets" class="section level1">
<h1 class="hasAnchor">
<a href="#datasets" class="anchor"></a>Datasets</h1>
<p>The package automatically generates a base dataset for each data file</p>
</div>
<div id="categorization" class="section level1">
<h1 class="hasAnchor">
<a href="#categorization" class="anchor"></a>Categorization</h1>
</div>
<div id="building" class="section level1">
<h1 class="hasAnchor">
<a href="#building" class="anchor"></a>Building</h1>
<p>Once all the files have been prepared, they must be “built” to be included into the package. First, the ‘./data-raw/build-data.R’ script should be run in its entirety. This takes all the raw information and builds the <em>.rda</em> files that will be included with the package.</p>
<p>If the documentation in <code>./R/data.R</code> was updated, then <code><a href="https://devtools.r-lib.org/reference/document.html">devtools::document()</a></code> should be run to rebuild the package documentation. It will produce a warning about the NAMESPACE file that can be ignored.</p>
</div>
<div id="validating" class="section level1">
<h1 class="hasAnchor">
<a href="#validating" class="anchor"></a>Validating</h1>
<p>The first step to validate the new additions is to run <code><a href="https://devtools.r-lib.org/reference/test.html">devtools::test()</a></code>. It will warn if there were any spelling inconsistencies or unused values in the categorization tables.</p>
<p>The next step is to run <code><a href="https://devtools.r-lib.org/reference/check.html">devtools::check()</a></code>, which will check that the changes meet CRAN requirements. There should be no errors, warnings, or notes.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Andrew Marx.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
